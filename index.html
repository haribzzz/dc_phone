<!DOCTYPE html>
<html lang="es">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>DC PHONE</title>
  <link rel="stylesheet" href="style.css">
  <style>
    /* -- He mantenido exactamente tu estilo; solo verifiqué que el banner no tenga filtro rojo -- */
    :root{
      --dark:#190019;
      --deep:#2B124C;
      --mid:#522B5B;
      --accent:#854F6C;
      --soft:#DFB6B2;
      --bg:#FBE4D8;
      --glass: rgba(255,255,255,0.6);
      --card-shadow: 0 14px 40px rgba(25,0,25,0.10);
    }

    body {
      background: radial-gradient(circle at 10% 10%, rgba(133,79,108,0.06), transparent 20%), var(--bg);
      color: var(--dark);
      -webkit-font-smoothing:antialiased;
      transition: margin-left 0.3s ease;
    }

    /* Sidebar Hamburguesa */
    .sidebar {
      position: fixed;
      left: -300px;
      top: 0;
      width: 280px;
      height: 100vh;
      background: linear-gradient(180deg, var(--deep), var(--mid));
      transition: left 0.3s ease;
      z-index: 1000;
      box-shadow: 2px 0 15px rgba(0,0,0,0.1);
      overflow-y: auto;
    }

    .sidebar.open {
      left: 0;
    }

    .sidebar-header {
      padding: 20px;
      border-bottom: 1px solid rgba(255,255,255,0.1);
      text-align: center;
    }

    .sidebar-header h3 {
      color: var(--soft);
      margin: 0;
      font-size: 1.2rem;
    }

    .sidebar-menu {
      list-style: none;
      padding: 0;
      margin: 0;
    }

    .sidebar-menu li {
      border-bottom: 1px solid rgba(255,255,255,0.05);
    }

    .sidebar-menu a {
      display: flex;
      align-items: center;
      padding: 15px 20px;
      color: var(--soft);
      text-decoration: none;
      transition: background 0.3s ease;
    }

    .sidebar-menu a:hover {
      background: rgba(255,255,255,0.1);
    }

    .sidebar-menu i {
      margin-right: 12px;
      font-size: 1.1rem;
    }

    .menu-toggle {
      position: fixed;
      top: 20px;
      left: 20px;
      background: var(--deep);
      color: var(--soft);
      border: none;
      border-radius: 8px;
      padding: 10px 12px;
      cursor: pointer;
      z-index: 999;
      box-shadow: 0 4px 12px rgba(0,0,0,0.15);
      transition: transform 0.3s ease;
    }

    .menu-toggle:hover {
      transform: scale(1.05);
    }

    body.sidebar-open {
      margin-left: 280px;
    }

    /* Overlay para cerrar sidebar */
    .sidebar-overlay {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(0,0,0,0.5);
      z-index: 999;
      display: none;
    }

    .sidebar-overlay.active {
      display: block;
    }

    header {
      background: linear-gradient(90deg, var(--deep), var(--mid));
      color: var(--soft);
      box-shadow: 0 6px 24px rgba(43,18,76,0.12);
      position: relative;
      z-index: 998;
      padding: 1rem 2rem;
      display: flex;
      justify-content: space-between;
      align-items: center;
    }
    .header-left {
      margin-left: 20px; /* MOVIMIENTO DEL TÍTULO HACIA LA DERECHA */
    }
    .header-left h1 { color: var(--soft); margin:0; }
    .header-left .slogan { color: var(--accent); margin:0; font-style:italic; }

    /* Contenedor centrado para la barra de búsqueda */
    .search-container {
      display: flex;
      justify-content: center;
      align-items: center;
      margin-bottom: 16px;
      padding: 15px 0; /* BARRAS MÁS GRANDES */
    }

    .search-bar { 
      display:flex; 
      gap:15px; 
      align-items:center;
      justify-content: center;
      max-width: 1000px;
      width: 100%;
    }

    .logo-container {
      flex-shrink: 0;
    }

    .store-logo {
      height: 120px;
      width: auto;
      border-radius: 8px;
    }

    .search-bar input[type="search"]{
      flex: 1;
      max-width: 800px;
      min-width: 250px;
      padding: 16px 24px; /* BARRAS MÁS GRANDES */
      border:1px solid rgba(25,0,25,0.06);
      border-radius:999px;
      background: rgba(255,255,255,0.95);
      box-shadow: 0 6px 16px rgba(25,0,25,0.06);
      color: var(--dark);
      font-size: 18px; /* BARRAS MÁS GRANDES */
    }

    .category-dropdown { flex: 0 0 auto; display:flex; align-items:center; gap:10px; }
    .category-toggle { 
      white-space: nowrap; 
      padding:12px 18px; /* BARRAS MÁS GRANDES */
      border-radius:14px; 
      font-size: 16px; /* BARRAS MÁS GRANDES */
      background: white;
      border:1px solid rgba(25,0,25,0.06);
      cursor: pointer;
    }
    .search-btn { 
      padding:12px 18px; /* BARRAS MÁS GRANDES */
      border-radius:14px; 
      background:var(--soft); 
      border:1px solid rgba(25,0,25,0.06); 
      color:var(--dark); 
      font-weight:700; 
      cursor:pointer; 
      font-size: 16px; /* BARRAS MÁS GRANDES */
    }
    .category-panel { min-width: 360px; }

    .search-bar select,
    .search-bar button {
      padding:12px 18px; /* BARRAS MÁS GRANDES */
      border-radius:10px;
      border:1px solid rgba(25,0,25,0.06);
      background: white;
      color: var(--dark);
      font-weight:600;
      font-size: 16px; /* BARRAS MÁS GRANDES */
    }
    .search-bar button {
      background: var(--soft);
      cursor:pointer;
      font-weight:700;
    }

    #products-grid {
      display: grid;
      grid-template-columns: repeat(5, 1fr);
      gap: 14px;
      align-items: start;
    }

    .card {
      background: linear-gradient(180deg, rgba(255,255,255,0.98), #fffaf9);
      border-radius:12px;
      padding:12px;
      text-align:center;
      border:1px solid rgba(82,43,91,0.06);
      box-shadow: var(--card-shadow);
      transition: transform .15s ease, box-shadow .15s ease;
    }
    .card:hover { transform: translateY(-8px); box-shadow: 0 18px 40px rgba(25,0,25,0.12); }
    .card img {
      width:100%;
      aspect-ratio: 3/4;
      height: auto;
      max-height: 260px;
      min-height: 200px;
      object-fit:cover;
      border-radius:8px;
      background:var(--glass);
    }
    .card .name { color: var(--deep); font-weight:700; }
    .card .price { color: var(--accent); font-weight:800; }

    /* Modales */
    .modal { position:fixed; inset:0; display:none; align-items:center; justify-content:center; background: rgba(9,3,9,0.45); z-index:1000; padding:20px; }
    .modal.open { display:flex; }
    .modal-content {
      background: linear-gradient(180deg, #fff, #fffaf9);
      border-radius:12px;
      max-width:900px;
      width: min(900px, 96%);
      max-height:85vh;
      overflow:auto;
      padding:22px;
      box-shadow: 0 20px 60px rgba(9,3,9,0.3);
      display:grid;
      grid-template-columns: 1fr 1fr;
      gap:20px;
      position:relative;
    }
    body.modal-open { overflow: hidden; height: 100vh; }

    .modal-left { display:flex; align-items:center; justify-content:center; }
    
    /* Zoom con desplazamiento */
    .modal-image-wrap { 
      position: relative; 
      width:100%;
      height: 360px;
      overflow: hidden;
      border-radius:10px;
      cursor: pointer;
    }
    .modal-image-wrap.zoomed {
      cursor: grab;
    }
    .modal-image-wrap.zoomed:active {
      cursor: grabbing;
    }
    .modal-image-wrap img { 
      width: 100%;
      height: 100%;
      object-fit: contain;
      background:#fafafa;
      border-radius:10px;
      border:1px solid rgba(0,0,0,0.03);
      transition: transform 0.1s ease;
      transform-origin: 0 0;
    }

    .close-btn {
      position: absolute;
      top: 12px;
      right: 12px;
      background: #c0392b;
      color: #ffffff;
      width: 42px;
      height: 42px;
      display: inline-flex;
      align-items: center;
      justify-content: center;
      border-radius: 10px;
      border: none;
      font-weight:700;
      cursor: pointer;
      box-shadow: 0 6px 18px rgba(192,57,43,0.18);
      transition: transform .12s ease, box-shadow .12s ease, opacity .12s ease;
      z-index: 10;
    }
    .close-btn:hover { transform: translateY(-2px); box-shadow: 0 10px 26px rgba(192,57,43,0.22); opacity:0.95; }

    .modal-right { overflow:auto; }
     .availability.available { color:#0a7; font-weight:700; }
     .availability.not-available { color:#b00; font-weight:700; }

    footer { background: linear-gradient(90deg, var(--deep), var(--mid)); color: var(--soft); }

    /* Formularios para promociones y admin */
    .form-group {
      margin-bottom: 15px;
    }

    .form-group label {
      display: block;
      margin-bottom: 5px;
      font-weight: 600;
      color: var(--deep);
    }

    .form-group input,
    .form-group textarea,
    .form-group select {
      width: 100%;
      padding: 10px;
      border: 1px solid rgba(25,0,25,0.1);
      border-radius: 8px;
      background: white;
      font-size: 14px;
    }

    .form-group textarea {
      height: 80px;
      resize: vertical;
    }

    .form-actions {
      display: flex;
      gap: 10px;
      justify-content: flex-end;
      margin-top: 20px;
    }

    .btn {
      padding: 10px 20px;
      border: none;
      border-radius: 8px;
      cursor: pointer;
      font-weight: 600;
      transition: all 0.3s ease;
    }

    .btn-primary {
      background: var(--accent);
      color: white;
    }

    .btn-secondary {
      background: var(--soft);
      color: var(--dark);
    }

    .btn:hover {
      transform: translateY(-2px);
      box-shadow: 0 4px 12px rgba(0,0,0,0.15);
    }

    /* Banner de promociones */
.promo-banner {
  background: none;
  color: white;
  padding: 15px 20px;
  border-radius: 10px;
  margin: 20px 0;
  text-align: center;
  box-shadow: 0 4px 15px rgba(0,0,0,0.15); /* sombra más neutra */
}


    .promo-banner h3 {
      margin: 0 0 10px 0;
      font-size: 1.3rem;
    }

    .promo-banner p {
      margin: 5px 0;
      font-size: 1rem;
    }

    .promo-banner .discount {
      font-size: 2rem;
      font-weight: 800;
      margin: 10px 0;
    }

    @media (max-width:1000px){
      #products-grid { grid-template-columns: repeat(2,1fr); }
    }
    @media (max-width:620px){
      #products-grid { grid-template-columns: 1fr; }
      .card img { max-height:220px; min-height:120px; }
      .modal-content { grid-template-columns:1fr; padding:16px; }
      .search-bar { flex-direction: column; gap: 12px; }
      .search-bar input[type="search"]{ max-width:100%; }
      .category-panel { position:relative; max-height:240px; min-width: auto; width:100%; }
      .logo-container { display: none; }
      .sidebar { width: 100%; left: -100%; }
      body.sidebar-open { margin-left: 0; }
    }
    @media (max-width:1200px){
       #products-grid { grid-template-columns: repeat(4,1fr); }
    }
    @media (max-width:900px){
       #products-grid { grid-template-columns: repeat(3,1fr); }
    }
    @media (max-width:700px){
       #products-grid { grid-template-columns: repeat(2,1fr); }
    }
    @media (max-width:480px){
       #products-grid { grid-template-columns: 1fr; }
        .card img { max-height: 160px; min-height: 90px; }
      }

    .category-panel .cat-row.cat-selected {
      background: rgba(43,18,76,0.06);
      border-radius: 6px;
      padding-left: 8px;
      padding-right: 8px;
    }
    .category-panel .cat-row.cat-selected span {
      color: var(--deep);
      font-weight: 700;
    }

    .hidden { display: none !important; }

    /* Icono de lupa */
    .zoom-icon {
      position: absolute;
      bottom: 12px;
      right: 12px;
      background: rgba(255,255,255,0.9);
      border: none;
      border-radius: 50%;
      width: 36px;
      height: 36px;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 16px;
      color: var(--dark);
      cursor: pointer;
      box-shadow: 0 4px 12px rgba(0,0,0,0.15);
      transition: transform .12s ease, box-shadow .12s ease;
      z-index: 20;
    }
    .zoom-icon:hover { transform: scale(1.1); box-shadow: 0 6px 18px rgba(0,0,0,0.18); }
  </style>
</head>
<body>
  
  <!-- Sidebar Hamburguesa -->
  <button class="menu-toggle" id="menuToggle">☰</button>
  
  <div class="sidebar" id="sidebar">
    <div class="sidebar-header">
      <h3>DC PHONE MENÚ</h3>
    </div>
    <ul class="sidebar-menu">
      <li><a href="#" id="catalogBtn"><i>📱</i> Catálogo</a></li>
      <li><a href="#" id="promotionsBtn"><i>🎯</i> Promociones</a></li>
      <li><a href="#" id="adminBtn"><i>⚙️</i> Admin</a></li>
    </ul>
  </div>

  <div class="sidebar-overlay" id="sidebarOverlay"></div>

  <header>
    <div class="header-left">
      <h1>DC PHONE</h1>
      <p class="slogan">TU MEJOR OPCIÓN, SIEMPRE ES CON <strong>NOSOTROS</strong></p>
    </div>
    <div class="social-icons">
      <a href="https://www.facebook.com/share/1CPWdYZ1L4/" target="_blank" rel="noopener noreferrer">
        <img src="images/Facebook.png" width="60" height="60" alt="Facebook">
      </a>
      <a href="https://www.instagram.com/dcphone28?igsh=MTBjaTAwNG9xaXVweg==" target="_blank" rel="noopener noreferrer">
        <img src="images/Instagram.png" width="60" height="60" alt="Instagram">
      </a>
      <a href="https://wa.me/76640026" target="_blank" rel="noopener noreferrer">
        <img src="images/WhatsApp.png" width="60" height="60" alt="WhatsApp">
      </a>
    </div>
  </header>

  <main>
    <!-- Banner de promociones (se muestra cuando hay promociones) -->
    <div id="promotionsContainer" class="hidden">
      <!-- Las promociones se generarán dinámicamente aquí -->
    </div>
    
    <div class="container">
      <section class="products-section">
        <div class="search-container">
          <div class="search-bar">
            <div class="logo-container">
              <img src="images/DC_PHONE.png" alt="DC PHONE Logo" class="store-logo">
            </div>
            <input id="search-input" type="search" placeholder="Buscar producto por nombre, descripción, especificaciones..." />
            <div class="category-dropdown" id="category-dropdown" style="position:relative;">
              <button id="category-toggle" type="button" class="category-toggle">Todas las categorías ▾</button>
              <button id="search-button" class="search-btn" type="button" aria-label="Buscar">Buscar</button>
               <div id="category-panel" class="category-panel hidden" aria-hidden="true" style="position:absolute; left:0; top:calc(100% + 8px); z-index:50; background:#fff; border:1px solid rgba(0,0,0,0.08); border-radius:8px; box-shadow:0 10px 30px rgba(0,0,0,0.12); max-height:320px; overflow:auto; padding:12px; min-width:360px;">
               </div>
             </div>
          </div>
        </div>

        <div id="products-grid" aria-live="polite">
        </div>
      </section>
    </div>

        <!-- Panel de Administración -->
    <div id="admin-panel" class="hidden"></div>

    <!-- Modal para detalles de producto -->
    <div id="product-modal" class="modal" role="dialog" aria-modal="true" aria-hidden="true">
      <div class="modal-content" role="document">
        <button id="modal-close" class="close-btn" aria-label="Cerrar">X</button>
        <div class="modal-left">
          <div class="modal-image-wrap" id="modal-image-wrap">
            <img id="modal-image" src="images/placeholder.png" alt="Imagen del producto">
            <div id="zoom-icon" class="zoom-icon">🔍</div>
          </div>
        </div>
        <div class="modal-right">
          <h3 id="modal-name">Nombre del producto</h3>
          <div id="modal-price" class="price"></div>
          <div id="modal-availability" class="availability"></div>
          <p id="modal-description" style="color:#333;"></p>

          <h4>Especificaciones</h4>
          <ul id="modal-specs" class="spec-list"></ul>

          <h4>Características</h4>
          <ul id="modal-features" class="features-list"></ul>

          <div id="modal-stock" style="margin-top:8px;font-weight:700;"></div>
        </div>
      </div>
    </div>

    <!-- Modal para Promociones -->
    <div id="promotions-modal" class="modal" role="dialog" aria-modal="true" aria-hidden="true">
      <div class="modal-content" style="max-width: 600px; grid-template-columns: 1fr;">
        <button class="close-btn" onclick="closeModal('promotions-modal')">X</button>
        <div>
          <h3>Gestionar Promociones</h3>
          <form id="promotionForm">
            <div class="form-group">
              <label for="promoTitle">Título de la promoción:</label>
              <input type="text" id="promoTitle" required>
            </div>
            <div class="form-group">
              <label for="promoDescription">Descripción:</label>
              <textarea id="promoDescription" required></textarea>
            </div>
            <div class="form-group">
              <label for="promoDiscount">Descuento (%):</label>
              <input type="number" id="promoDiscount" min="1" max="100" required>
            </div>
            <div class="form-group">
              <label for="promoImageUpload">Imagen del banner:</label>
              <input type="file" id="promoImageUpload" accept="image/*" required>
              <input type="hidden" id="promoImage">
              <div id="imagePreview"></div>
            </div>
            <div class="form-group">
              <label for="promoStartDate">Fecha de inicio:</label>
              <input type="date" id="promoStartDate" required>
            </div>
            <div class="form-group">
              <label for="promoEndDate">Fecha de vencimiento:</label>
              <input type="date" id="promoEndDate" required>
            </div>
            <div class="form-actions">
              <button type="button" class="btn btn-secondary" onclick="closeModal('promotions-modal')">Cancelar</button>
              <button type="submit" class="btn btn-primary">Crear Promoción</button>
            </div>
          </form>
        </div>
      </div>
    </div>

    <!-- Modal para Admin -->
    <div id="admin-modal" class="modal" role="dialog" aria-modal="true" aria-hidden="true">
      <div class="modal-content" style="max-width: 500px; grid-template-columns: 1fr;">
        <button class="close-btn" onclick="closeModal('admin-modal')">X</button>
        <div>
          <h3>Acceso de Administrador</h3>
          <form id="adminForm">
            <div class="form-group">
              <label for="adminUser">Usuario:</label>
              <input type="text" id="adminUser" required>
            </div>
            <div class="form-group">
              <label for="adminEmail">Gmail:</label>
              <input type="email" id="adminEmail" required>
            </div>
            <div class="form-group">
              <label for="adminPassword">Contraseña:</label>
              <input type="password" id="adminPassword" required>
            </div>
            <div class="form-actions">
              <button type="button" class="btn btn-secondary" onclick="closeModal('admin-modal')">Cancelar</button>
              <button type="submit" class="btn btn-primary">Iniciar Sesión</button>
            </div>
          </form>
        </div>
      </div>
    </div>
  </main>

  <footer>
    <p>&copy; 2025 DCPhone</p>
  </footer>

  <!-- Enlazamos tu script modificado -->
  <script src="script.js"></script>
</body>
</html>
